<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kahoot: –ì–∞–ª–æ–≥–µ–Ω—ã –∏ –û–∫—Å–∏–¥—ã</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #f2f2f2;
            background-image: url("https://www.transparenttextures.com/patterns/cubes.png");
            overflow-x: hidden;
            user-select: none;
        }

        /* –¶–≤–µ—Ç–∞ Kahoot */
        .k-red { background-color: #e21b3c; box-shadow: 0 4px 0 #9f0e26; }
        .k-blue { background-color: #1368ce; box-shadow: 0 4px 0 #08438d; }
        .k-yellow { background-color: #d89e00; box-shadow: 0 4px 0 #916a00; }
        .k-green { background-color: #26890c; box-shadow: 0 4px 0 #144f05; }

        .k-btn {
            transition: all 0.1s;
            cursor: pointer;
        }
        .k-btn:active {
            transform: translateY(4px);
            box-shadow: none !important;
        }
        .k-btn:hover { filter: brightness(1.1); }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .slide-in { animation: slideIn 0.3s ease-out forwards; }
        @keyframes slideIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        .hidden-screen { display: none !important; }
    </style>
</head>
<body class="min-h-screen flex flex-col text-gray-800">

    <!-- –ó–í–£–ö–ò -->
    <audio id="bg-music" loop>
        <source src="https://assets.mixkit.co/music/preview/mixkit-quiz-show-suspense-loop-809.mp3" type="audio/mp3">
    </audio>
    <audio id="sfx-correct" src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3"></audio>
    <audio id="sfx-wrong" src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3"></audio>
    <audio id="sfx-end" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3"></audio>

    <!-- 1. –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ -->
    <div id="start-screen" class="flex-grow flex flex-col items-center justify-center p-4 fade-in h-screen">
        <div class="bg-white p-8 rounded-2xl shadow-xl text-center max-w-md w-full border-b-8 border-gray-300">
            <h1 class="text-4xl font-black text-purple-700 mb-2 uppercase">–•–∏–º–∏—è</h1>
            <h2 class="text-xl font-bold text-gray-500 mb-6">–ì–∞–ª–æ–≥–µ–Ω—ã –∏ –û–∫—Å–∏–¥—ã</h2>
            
            <div class="mb-8">
                <i class="fa-solid fa-shapes text-6xl text-blue-500 animate-bounce"></i>
            </div>

            <button onclick="startGame()" class="w-full bg-purple-600 text-white font-black text-2xl py-4 rounded-xl shadow-[0_6px_0_rgb(107,33,168)] active:shadow-none active:translate-y-[6px] transition-all">
                –°–¢–ê–†–¢
            </button>
            <p class="mt-4 text-sm text-gray-400">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ç–µ—Å—Ç</p>
        </div>
    </div>

    <!-- 2. –≠–ö–†–ê–ù –ò–ì–†–´ -->
    <div id="game-screen" class="hidden-screen flex-col h-screen">
        
        <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
        <div class="flex justify-between items-center p-4 bg-white shadow-md z-10">
            <div class="bg-gray-100 px-4 py-2 rounded-full font-bold text-gray-600">
                <span id="question-count">1</span> / 10
            </div>
            <div class="text-xl font-black text-purple-700">
                –û—á–∫–∏: <span id="score">0</span>
            </div>
        </div>

        <!-- –¢–∞–π–º–µ—Ä -->
        <div class="w-full bg-gray-200 h-2">
            <div id="timer-bar" class="h-full bg-purple-500 w-full transition-linear"></div>
        </div>

        <!-- –í–æ–ø—Ä–æ—Å -->
        <div class="flex-grow flex items-center justify-center p-4">
            <div class="bg-white p-6 md:p-10 rounded-xl shadow-lg text-center max-w-4xl w-full border-b-4 border-gray-200 slide-in">
                <h2 id="question-text" class="text-2xl md:text-4xl font-black text-gray-800 leading-tight">
                    –í–æ–ø—Ä–æ—Å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...
                </h2>
            </div>
        </div>

        <!-- –û—Ç–≤–µ—Ç—ã (–°–µ—Ç–∫–∞ 2x2) -->
        <div class="p-4 mb-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 max-w-6xl mx-auto h-80 md:h-64">
                
                <!-- –ö—Ä–∞—Å–Ω—ã–π (–¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫) -->
                <div onclick="checkAnswer(0)" id="btn-0" class="k-btn k-red rounded-lg flex items-center p-4 relative group text-white">
                    <div class="bg-black/20 w-12 h-12 flex items-center justify-center rounded-lg mr-4 flex-shrink-0">
                        <i class="fa-solid fa-play fa-rotate-270 text-2xl"></i> <!-- –¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ -->
                    </div>
                    <span id="ans-0" class="text-xl font-bold w-full">–û—Ç–≤–µ—Ç 1</span>
                </div>

                <!-- –°–∏–Ω–∏–π (–†–æ–º–±) -->
                <div onclick="checkAnswer(1)" id="btn-1" class="k-btn k-blue rounded-lg flex items-center p-4 relative group text-white">
                    <div class="bg-black/20 w-12 h-12 flex items-center justify-center rounded-lg mr-4 flex-shrink-0">
                        <i class="fa-solid fa-diamond text-2xl"></i> <!-- –†–æ–º–± -->
                    </div>
                    <span id="ans-1" class="text-xl font-bold w-full">–û—Ç–≤–µ—Ç 2</span>
                </div>

                <!-- –ñ–µ–ª—Ç—ã–π (–ö—Ä—É–≥) -->
                <div onclick="checkAnswer(2)" id="btn-2" class="k-btn k-yellow rounded-lg flex items-center p-4 relative group text-white">
                    <div class="bg-black/20 w-12 h-12 flex items-center justify-center rounded-full mr-4 flex-shrink-0">
                        <i class="fa-solid fa-circle text-2xl"></i> <!-- –ö—Ä—É–≥ -->
                    </div>
                    <span id="ans-2" class="text-xl font-bold w-full">–û—Ç–≤–µ—Ç 3</span>
                </div>

                <!-- –ó–µ–ª–µ–Ω—ã–π (–ö–≤–∞–¥—Ä–∞—Ç) -->
                <div onclick="checkAnswer(3)" id="btn-3" class="k-btn k-green rounded-lg flex items-center p-4 relative group text-white">
                    <div class="bg-black/20 w-12 h-12 flex items-center justify-center rounded-lg mr-4 flex-shrink-0">
                        <i class="fa-solid fa-square text-2xl"></i> <!-- –ö–≤–∞–¥—Ä–∞—Ç -->
                    </div>
                    <span id="ans-3" class="text-xl font-bold w-full">–û—Ç–≤–µ—Ç 4</span>
                </div>

            </div>
        </div>
    </div>

    <!-- 3. –≠–ö–†–ê–ù –†–ï–ó–£–õ–¨–¢–ê–¢–ê -->
    <div id="end-screen" class="hidden-screen flex-grow flex flex-col items-center justify-center p-4 h-screen text-center bg-purple-900 text-white">
        <h1 class="text-5xl font-black mb-4 animate-bounce">–§–ò–ù–ò–®!</h1>
        <div class="bg-white text-gray-800 p-8 rounded-2xl shadow-2xl max-w-md w-full">
            <p class="text-gray-500 mb-2">–¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</p>
            <div class="text-6xl font-black text-purple-600 mb-6" id="final-score">0</div>
            <p id="feedback" class="text-xl font-bold mb-6">–ú–æ–ª–æ–¥–µ—Ü!</p>
            
            <button onclick="location.reload()" class="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-xl shadow-[0_6px_0_#1e40af] active:shadow-none active:translate-y-[6px] transition-all">
                –°—ã–≥—Ä–∞—Ç—å –µ—â—ë —Ä–∞–∑
            </button>
        </div>
    </div>

    <script>
        // === –£–ü–†–û–©–ï–ù–ù–´–ï –í–û–ü–†–û–°–´ ===
        const questions = [
            {
                q: "–ö–∞–∫–æ–π —ç–ª–µ–º–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –≤ –û–∫—Å–∏–¥–∞—Ö?",
                a: ["–í–æ–¥–æ—Ä–æ–¥ (H)", "–ö–∏—Å–ª–æ—Ä–æ–¥ (O)", "–ê–∑–æ—Ç (N)", "–£–≥–ª–µ—Ä–æ–¥ (C)"],
                correct: 1 // –ö–∏—Å–ª–æ—Ä–æ–¥
            },
            {
                q: "–§–æ—Ä–º—É–ª–∞ –≤–æ–¥—ã - —ç—Ç–æ...",
                a: ["H‚ÇÇO", "CO‚ÇÇ", "NaCl", "O‚ÇÇ"],
                correct: 0 // H2O
            },
            {
                q: "–ö–∞–∫–∞—è —Å—Ç–µ–ø–µ–Ω—å –æ–∫–∏—Å–ª–µ–Ω–∏—è —É –ö–∏—Å–ª–æ—Ä–æ–¥–∞ –≤ –æ–∫—Å–∏–¥–∞—Ö?",
                a: ["+1", "+2", "-2", "-1"],
                correct: 2 // -2
            },
            {
                q: "–ö–∞–∫–æ–π –≥–∞–∑ –Ω–∞–∑—ã–≤–∞—é—Ç ¬´–í–µ—Å–µ–ª—è—â–∏–º¬ª (–¥–ª—è –≥–æ–Ω–æ–∫ –∏ –Ω–∞—Ä–∫–æ–∑–∞)?",
                a: ["CO (–£–≥–∞—Ä–Ω—ã–π)", "N‚ÇÇO (–ó–∞–∫–∏—Å—å –∞–∑–æ—Ç–∞)", "O‚ÇÇ (–ö–∏—Å–ª–æ—Ä–æ–¥)", "He (–ì–µ–ª–∏–π)"],
                correct: 1 // N2O
            },
            {
                q: "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è, –µ—Å–ª–∏ —Å–º–µ—à–∞—Ç—å –ö–∏—Å–ª–æ—Ç–Ω—ã–π –æ–∫—Å–∏–¥ –∏ –í–æ–¥—É?",
                a: ["–ö–∏—Å–ª–æ—Ç–∞", "–û—Å–Ω–æ–≤–∞–Ω–∏–µ", "–°–æ–ª—å", "–í–∑—Ä—ã–≤"],
                correct: 0 // –ö–∏—Å–ª–æ—Ç–∞
            },
            {
                q: "–ö–∞–∫–æ–π –æ–∫—Å–∏–¥ —è–≤–ª—è–µ—Ç—Å—è –ê–º—Ñ–æ—Ç–µ—Ä–Ω—ã–º (–¥–≤–æ–π—Å—Ç–≤–µ–Ω–Ω—ã–º)?",
                a: ["Na‚ÇÇO", "SO‚ÇÉ", "Al‚ÇÇO‚ÇÉ", "CaO"],
                correct: 2 // Al2O3
            },
            {
                q: "–ö–∞–∫–æ–π –ì–∞–ª–æ–≥–µ–Ω —Å–∞–º—ã–π —Å–∏–ª—å–Ω—ã–π –∏ –∞–∫—Ç–∏–≤–Ω—ã–π?",
                a: ["–ô–æ–¥ (I)", "–ë—Ä–æ–º (Br)", "–•–ª–æ—Ä (Cl)", "–§—Ç–æ—Ä (F)"],
                correct: 3 // –§—Ç–æ—Ä
            },
            {
                q: "–ú–∏–Ω–µ—Ä–∞–ª –ö–æ—Ä—É–Ω–¥ (–†—É–±–∏–Ω/–°–∞–ø—Ñ–∏—Ä) —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –æ–∫—Å–∏–¥–∞...",
                a: ["–ñ–µ–ª–µ–∑–∞", "–ê–ª—é–º–∏–Ω–∏—è", "–ú–µ–¥–∏", "–ó–æ–ª–æ—Ç–∞"],
                correct: 1 // –ê–ª—é–º–∏–Ω–∏—è
            },
            {
                q: "–û—Å–Ω–æ–≤–Ω—ã–π –æ–∫—Å–∏–¥ + –ö–∏—Å–ª–æ—Ç–Ω—ã–π –æ–∫—Å–∏–¥ = ...",
                a: ["–í–æ–¥–∞", "–ì–∞–∑", "–°–æ–ª—å", "–ù–∏—á–µ–≥–æ"],
                correct: 2 // –°–æ–ª—å
            },
            {
                q: "–ö –∫–∞–∫–æ–π –≥—Ä—É–ø–ø–µ –≤ —Ç–∞–±–ª–∏—Ü–µ –ú–µ–Ω–¥–µ–ª–µ–µ–≤–∞ –æ—Ç–Ω–æ—Å—è—Ç—Å—è –ì–∞–ª–æ–≥–µ–Ω—ã?",
                a: ["I –≥—Ä—É–ø–ø–∞", "II –≥—Ä—É–ø–ø–∞", "V –≥—Ä—É–ø–ø–∞", "VII –≥—Ä—É–ø–ø–∞"],
                correct: 3 // VII
            }
        ];

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentQ = 0;
        let score = 0;
        let timer;
        let timeLeft = 20;
        let canClick = false;

        // –≠–ª–µ–º–µ–Ω—Ç—ã
        const screens = {
            start: document.getElementById('start-screen'),
            game: document.getElementById('game-screen'),
            end: document.getElementById('end-screen')
        };
        const els = {
            qText: document.getElementById('question-text'),
            qCount: document.getElementById('question-count'),
            score: document.getElementById('score'),
            timer: document.getElementById('timer-bar'),
            finalScore: document.getElementById('final-score'),
            feedback: document.getElementById('feedback'),
            answers: [
                { btn: document.getElementById('btn-0'), txt: document.getElementById('ans-0') },
                { btn: document.getElementById('btn-1'), txt: document.getElementById('ans-1') },
                { btn: document.getElementById('btn-2'), txt: document.getElementById('ans-2') },
                { btn: document.getElementById('btn-3'), txt: document.getElementById('ans-3') }
            ]
        };
        
        const audio = {
            bg: document.getElementById('bg-music'),
            correct: document.getElementById('sfx-correct'),
            wrong: document.getElementById('sfx-wrong'),
            end: document.getElementById('sfx-end')
        };

        // --- –õ–û–ì–ò–ö–ê ---

        function startGame() {
            // –ó–∞–ø—É—Å–∫ –∞—É–¥–∏–æ (–Ω—É–∂–µ–Ω –∂–µ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
            audio.bg.volume = 0.1;
            audio.bg.play().catch(e => console.log("Music blocked"));
            
            screens.start.classList.add('hidden-screen');
            screens.game.classList.remove('hidden-screen');
            
            currentQ = 0;
            score = 0;
            els.score.innerText = "0";
            
            nextQuestion();
        }

        function nextQuestion() {
            if (currentQ >= questions.length) {
                gameOver();
                return;
            }

            const data = questions[currentQ];
            
            // UI
            els.qCount.innerText = currentQ + 1;
            els.qText.innerText = data.q;
            
            // –°–±—Ä–æ—Å –∫–Ω–æ–ø–æ–∫
            els.answers.forEach((item, idx) => {
                item.txt.innerText = data.a[idx];
                item.btn.classList.remove('opacity-20', 'ring-4', 'ring-white');
                // –°–±—Ä–æ—Å –∏–∫–æ–Ω–æ–∫ —Å—Ç–∞—Ç—É—Å–∞
                const statusIcon = item.btn.querySelector('.status-icon');
                if(statusIcon) statusIcon.remove();
            });

            // –¢–∞–π–º–µ—Ä —Å–±—Ä–æ—Å
            timeLeft = 20;
            els.timer.style.transition = 'none';
            els.timer.style.width = '100%';
            setTimeout(() => {
                els.timer.style.transition = 'width 1s linear';
            }, 10);
            
            canClick = true;
            startTimer();
        }

        function startTimer() {
            clearInterval(timer);
            timer = setInterval(() => {
                timeLeft--;
                const percent = (timeLeft / 20) * 100;
                els.timer.style.width = percent + '%';

                if (timeLeft <= 0) {
                    clearInterval(timer);
                    timeIsUp();
                }
            }, 1000);
        }

        function timeIsUp() {
            canClick = false;
            audio.wrong.play();
            showCorrectAnswer();
            setTimeout(() => {
                currentQ++;
                nextQuestion();
            }, 2000);
        }

        function checkAnswer(index) {
            if (!canClick) return;
            canClick = false;
            clearInterval(timer);

            const correct = questions[currentQ].correct;
            const btn = els.answers[index].btn;

            if (index === correct) {
                // –ü—Ä–∞–≤–∏–ª—å–Ω–æ
                score += 100 + (timeLeft * 10);
                els.score.innerText = score;
                audio.correct.play();
                
                // –í–∏–∑—É–∞–ª
                btn.classList.add('ring-4', 'ring-white');
                addIcon(btn, 'fa-check');
                
                // –°–∫—Ä—ã—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ
                dimOthers(index);
            } else {
                // –û—à–∏–±–∫–∞
                audio.wrong.play();
                btn.classList.add('opacity-50');
                addIcon(btn, 'fa-xmark');
                showCorrectAnswer();
            }

            setTimeout(() => {
                currentQ++;
                nextQuestion();
            }, 2000);
        }

        function showCorrectAnswer() {
            const correct = questions[currentQ].correct;
            const btn = els.answers[correct].btn;
            btn.classList.remove('opacity-20', 'opacity-50');
            btn.classList.add('ring-4', 'ring-white');
            dimOthers(correct);
        }

        function dimOthers(keepIndex) {
            els.answers.forEach((item, idx) => {
                if (idx !== keepIndex) {
                    item.btn.classList.add('opacity-20');
                }
            });
        }

        function addIcon(btnElement, iconClass) {
            const icon = document.createElement('i');
            icon.className = `fa-solid ${iconClass} text-4xl absolute right-4 status-icon`;
            btnElement.appendChild(icon);
        }

        function gameOver() {
            screens.game.classList.add('hidden-screen');
            screens.end.classList.remove('hidden-screen');
            audio.bg.pause();
            audio.end.play();
            
            els.finalScore.innerText = score;
            
            if (score > 2500) els.feedback.innerText = "–¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –•–∏–º–∏–∫! üß™";
            else if (score > 1500) els.feedback.innerText = "–•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! üëç";
            else els.feedback.innerText = "–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑! üìö";
        }

    </script>
</body>
</html>