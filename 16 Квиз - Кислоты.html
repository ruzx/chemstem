<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì—Ä–∞–Ω–¥-–ö–≤–∏–∑: –ö–∏—Å–ª–æ—Ç—ã –∏ –û—Å–Ω–æ–≤–∞–Ω–∏—è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --neon-green: #ccff00;
            --dark-bg: #121212;
            --panel-bg: #222222;
            --text-color: #e0e0e0;
        }

        /* FIX: –£–±–∏—Ä–∞–µ–º "—à–∞—Ç–∞–Ω–∏–µ" —ç–∫—Ä–∞–Ω–∞ */
        html {
            overflow-y: scroll; /* –°–∫—Ä–æ–ª–ª–±–∞—Ä –≤—Å–µ–≥–¥–∞ –≤–∏–¥–µ–Ω, —á—Ç–æ–±—ã —ç–∫—Ä–∞–Ω –Ω–µ –ø—Ä—ã–≥–∞–ª */
        }

        body {
            font-family: 'Rubik', sans-serif;
            background-color: var(--dark-bg);
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px), 
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 30px 30px;
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –≤—ã—Å–æ—Ç—ã */
        .game-container {
            width: 100%;
            max-width: 800px;
            min-height: 500px; /* –ß—Ç–æ–±—ã –Ω–µ —Å–∫–∞–∫–∞–ª–æ –ø—Ä–∏ —Å–º–µ–Ω–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .neon-text {
            color: var(--neon-green);
            text-shadow: 0 0 10px rgba(204, 255, 0, 0.4);
        }

        .k-btn {
            background: var(--panel-bg);
            border: 2px solid #444;
            color: white;
            transition: all 0.15s ease-out;
            position: relative;
            overflow: hidden;
        }
        .k-btn:hover:not(:disabled) {
            border-color: var(--neon-green);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            background: #2a2a2a;
        }
        .k-btn:active:not(:disabled) {
            transform: translateY(1px);
        }

        .correct-anim { 
            background-color: #1b5e20 !important; 
            border-color: #4caf50 !important; 
            color: #fff !important;
        }
        .wrong-anim { 
            background-color: #b71c1c !important; 
            border-color: #f44336 !important; 
            color: #fff !important;
        }

        .hidden-screen { display: none !important; }
        
        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <!-- –ó–í–£–ö–ò -->
    <audio id="sfx-correct" src="https://assets.mixkit.co/sfx/preview/mixkit-sci-fi-click-900.mp3"></audio>
    <audio id="sfx-wrong" src="https://assets.mixkit.co/sfx/preview/mixkit-tech-break-fail-2947.mp3"></audio>
    <audio id="sfx-end" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3"></audio>

    <div class="game-container p-4">
        
        <!-- 1. –°–¢–ê–†–¢ -->
        <div id="start-screen" class="text-center fade-in">
            <div class="bg-gray-800 p-10 rounded-3xl border-4 border-gray-700 shadow-2xl">
                <h1 class="text-5xl font-black neon-text mb-4">–•–ò–ú–ò–ß–ï–°–ö–ò–ô<br>–ë–õ–ò–¶</h1>
                <p class="text-xl text-gray-400 mb-8">–ò—Å—Ç–æ—Ä–∏—è, –í–∑—Ä—ã–≤—ã –∏ –§–æ—Ä–º—É–ª—ã</p>
                
                <div class="mb-10 text-7xl text-gray-200 animate-pulse">
                    <i class="fa-solid fa-atom"></i>
                </div>

                <button onclick="startGame()" class="w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white font-bold text-2xl py-5 rounded-2xl shadow-lg transition transform">
                    –ü–û–ï–•–ê–õ–ò!
                </button>
            </div>
        </div>

        <!-- 2. –ò–ì–†–ê -->
        <div id="game-screen" class="hidden-screen w-full">
            
            <!-- –ò–Ω—Ñ–æ –ø–∞–Ω–µ–ª—å -->
            <div class="flex justify-between items-center mb-6 bg-gray-800 p-4 rounded-xl border border-gray-700">
                <div class="text-gray-400 font-bold font-mono text-lg">
                    <i class="fa-regular fa-circle-question mr-2"></i><span id="question-count">1</span>/12
                </div>
                <div class="text-green-400 font-bold font-mono text-xl">
                    <span id="score">0</span> XP
                </div>
            </div>

            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä -->
            <div class="w-full bg-gray-700 h-3 rounded-full mb-8 overflow-hidden">
                <div id="timer-bar" class="h-full bg-green-500 w-full transition-linear rounded-full"></div>
            </div>

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –≤–æ–ø—Ä–æ—Å–∞ -->
            <div class="bg-gray-800 p-8 rounded-2xl border-l-8 border-green-500 shadow-xl mb-8 fade-in min-h-[160px] flex items-center justify-center">
                <h2 id="question-text" class="text-2xl md:text-3xl font-bold leading-tight text-center">...</h2>
            </div>

            <!-- –û—Ç–≤–µ—Ç—ã -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <button onclick="checkAnswer(0)" id="btn-0" class="k-btn p-5 rounded-xl text-lg font-bold text-left flex items-center h-24">
                    <span class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center mr-4 text-xs font-mono text-gray-300">A</span>
                    <span id="ans-0">...</span>
                </button>
                <button onclick="checkAnswer(1)" id="btn-1" class="k-btn p-5 rounded-xl text-lg font-bold text-left flex items-center h-24">
                    <span class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center mr-4 text-xs font-mono text-gray-300">B</span>
                    <span id="ans-1">...</span>
                </button>
                <button onclick="checkAnswer(2)" id="btn-2" class="k-btn p-5 rounded-xl text-lg font-bold text-left flex items-center h-24">
                    <span class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center mr-4 text-xs font-mono text-gray-300">C</span>
                    <span id="ans-2">...</span>
                </button>
            </div>
        </div>

        <!-- 3. –§–ò–ù–ò–® -->
        <div id="end-screen" class="hidden-screen text-center">
            <h1 class="text-5xl font-black neon-text mb-6">–†–ï–ó–£–õ–¨–¢–ê–¢</h1>
            <div class="bg-gray-800 p-10 rounded-3xl border-4 border-gray-700 shadow-2xl">
                <p class="text-gray-400 text-lg uppercase tracking-widest mb-4">–ù–∞–±—Ä–∞–Ω–æ –æ—á–∫–æ–≤</p>
                <div class="text-8xl font-black text-white mb-6" id="final-score">0</div>
                <p id="feedback" class="text-xl font-bold text-green-400 mb-10">...</p>
                <button onclick="location.reload()" class="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-xl shadow-lg text-xl">
                    –ï–©–ï –†–ê–ó
                </button>
            </div>
        </div>

    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (–û–±—ä—è—Å–Ω–µ–Ω–∏–µ) -->
    <div id="explanation-modal" class="fixed inset-0 bg-black/90 hidden flex items-center justify-center p-4 z-50 backdrop-blur-sm">
        <div class="bg-gray-800 p-8 rounded-2xl max-w-lg w-full border-2 border-gray-600 shadow-2xl animate-bounce-in relative">
            <div id="exp-header" class="text-3xl font-black mb-4"></div>
            <div class="w-full h-1 bg-gray-700 mb-4"></div>
            <p id="exp-text" class="text-lg text-gray-300 mb-8 leading-relaxed"></p>
            <button onclick="nextQuestion()" class="w-full bg-green-600 hover:bg-green-500 text-white font-bold py-4 rounded-xl text-xl shadow-lg transition transform active:scale-95">
                –î–ê–õ–ï–ï <i class="fa-solid fa-arrow-right ml-2"></i>
            </button>
        </div>
    </div>

    <!-- –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
        const questions = [
            // --- –ò–°–¢–û–†–ò–Ø –ò –≠–¢–ò–ú–û–õ–û–ì–ò–Ø ---
            {
                q: "–ê—Ä–∞–±—Å–∫–æ–µ —Å–ª–æ–≤–æ ¬´Al-Qali¬ª (–æ—Ç–∫—É–¥–∞ –ø–æ—à–ª–æ —Å–ª–æ–≤–æ ¬´–©—ë–ª–æ—á—å¬ª) –æ–∑–Ω–∞—á–∞–µ—Ç...",
                a: ["–ú–æ—Ä—Å–∫–æ–π –ø–µ—Å–æ–∫", "–ü—Ä–æ–∫–∞–ª–µ–Ω–Ω–∞—è –∑–æ–ª–∞", "–û–≤–µ—á—å—è —à–µ—Ä—Å—Ç—å"],
                correct: 1,
                explanation: "–î—Ä–µ–≤–Ω–∏–µ —Ö–∏–º–∏–∫–∏ —Å–∂–∏–≥–∞–ª–∏ —Ä–∞—Å—Ç–µ–Ω–∏—è, –∞ –∏–∑ –∏—Ö –∑–æ–ª—ã (—Å–æ–¥–µ—Ä–∂–∞—â–µ–π –ø–æ—Ç–∞—à) –≤–∞—Ä–∏–ª–∏ –ø–µ—Ä–≤–æ–µ –º—ã–ª–æ. –©—ë–ª–æ—á—å = –ó–æ–ª–∞."
            },
            {
                q: "–ü–æ—á–µ–º—É –õ–∞–≤—É–∞–∑—å–µ –Ω–∞–∑–≤–∞–ª —ç–ª–µ–º–µ–Ω—Ç ¬´–û–∫—Å–∏-–≥–µ–Ω¬ª (–ö–∏—Å–ª–æ—Ä–æ–¥)?",
                a: ["–û–Ω –¥—É–º–∞–ª, —á—Ç–æ –∫–∏—Å–ª–æ—Ä–æ–¥ —Ä–æ–∂–¥–∞–µ—Ç –∫–∏—Å–ª–æ—Ç—ã", "–ì–∞–∑ –±—ã–ª –∫–∏—Å–ª—ã–º –Ω–∞ –≤–∫—É—Å", "–≠—Ç–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –∫–∞–∫ ¬´–ñ–∏–∑–Ω—å¬ª"],
                correct: 0,
                explanation: "–û–Ω –æ—à–∏–±–∞–ª—Å—è. –û–Ω –¥—É–º–∞–ª, —á—Ç–æ –∫–∏—Å–ª–æ—Ç—É –¥–µ–ª–∞–µ—Ç –∫–∏—Å–ª–æ—Ç–æ–π –∏–º–µ–Ω–Ω–æ –∫–∏—Å–ª–æ—Ä–æ–¥ (Oxygenium = —Ä–æ–∂–¥–∞—é—â–∏–π –∫–∏—Å–ª–æ—Ç—É). –ü–æ–∑–∂–µ –¥–æ–∫–∞–∑–∞–ª–∏, —á—Ç–æ –≥–ª–∞–≤–Ω—ã–π ‚Äî –í–æ–¥–æ—Ä–æ–¥."
            },
            {
                q: "–°–ª–æ–≤–æ ¬´–û—Å–Ω–æ–≤–∞–Ω–∏–µ¬ª (Base) –ø—Ä–∏–¥—É–º–∞–ª–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –≤–µ—â–µ—Å—Ç–≤–æ...",
                a: ["–Ø–≤–ª—è–µ—Ç—Å—è –±–∞–∑–æ–π –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞", "–°–ª—É–∂–∏—Ç ¬´—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–æ–º¬ª –¥–ª—è —Å–æ–ª–∏", "–°–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ –≤ —Ö–∏–º–∏–∏"],
                correct: 1,
                explanation: "–í 18 –≤–µ–∫–µ —Å—á–∏—Ç–∞–ª–∏, —á—Ç–æ –û—Å–Ω–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ ¬´–±–∞–∑–∞¬ª, –∫–æ—Ç–æ—Ä–∞—è –ª–æ–≤–∏—Ç –ª–µ—Ç—É—á—É—é –∫–∏—Å–ª–æ—Ç—É –∏ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –µ—ë –≤ —Ç–≤–µ—Ä–¥—É—é —Å–æ–ª—å."
            },
            {
                q: "–ö–∞–∫ –†–æ–±–µ—Ä—Ç –ë–æ–π–ª—å –æ—Ç–∫—Ä—ã–ª –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã?",
                a: ["–°–ª—É—á–∞–π–Ω–æ –∫–∞–ø–Ω—É–ª –∫–∏—Å–ª–æ—Ç–æ–π –Ω–∞ —Ñ–∏–∞–ª–∫–∏", "–°–º–µ—à–∞–ª –≤–∏–Ω–æ —Å –º–µ–ª–æ–º", "–£–≤–∏–¥–µ–ª, –∫–∞–∫ –∫—Ä–∞—Å–Ω–µ–µ—Ç –ª–∞–∫–º—É—Å–æ–≤—ã–π –ª–∏—à–∞–π–Ω–∏–∫"],
                correct: 0,
                explanation: "–û–Ω –∑–∞—à–µ–ª –≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—é —Å –±—É–∫–µ—Ç–æ–º —Ñ–∏–∞–ª–æ–∫, –∫–∞–ø–Ω—É–ª –Ω–∞ –Ω–∏—Ö –∫–∏—Å–ª–æ—Ç–æ–π, –∏ –æ–Ω–∏ –ø–æ–∫—Ä–∞—Å–Ω–µ–ª–∏. –¢–∞–∫ —Ä–æ–¥–∏–ª–∞—Å—å –∏–¥–µ—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤."
            },
            // --- –¢–ï–û–†–ò–Ø –ò –°–í–û–ô–°–¢–í–ê ---
            {
                q: "–¢–µ–æ—Ä–∏—è –ê—Ä—Ä–µ–Ω–∏—É—Å–∞: –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–∏—Å–ª–æ—Ç—É –∫–∏—Å–ª–æ—Ç–æ–π?",
                a: ["–ê—Ç–æ–º—ã –∫–∏—Å–ª–æ—Ä–æ–¥–∞ (O)", "–ò–æ–Ω—ã –í–æ–¥–æ—Ä–æ–¥–∞ (H‚Å∫)", "–ö–∏—Å–ª—ã–π –≤–∫—É—Å"],
                correct: 1,
                explanation: "–ö–∏—Å–ª–æ—Ç–∞ ‚Äî —ç—Ç–æ –≤–µ—â–µ—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –≤ –≤–æ–¥–µ —Ä–∞—Å–ø–∞–¥–∞–µ—Ç—Å—è –∏ –¥–∞–µ—Ç –∏–æ–Ω—ã –í–æ–¥–æ—Ä–æ–¥–∞ (H‚Å∫)."
            },
            {
                q: "–¢–µ–æ—Ä–∏—è –ê—Ä—Ä–µ–Ω–∏—É—Å–∞: –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –æ—Å–Ω–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º?",
                a: ["–ò–æ–Ω—ã –ì–∏–¥—Ä–æ–∫—Å–∏–¥–∞ (OH‚Åª)", "–ù–∞–ª–∏—á–∏–µ –ú–µ—Ç–∞–ª–ª–∞", "–ú—ã–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç"],
                correct: 0,
                explanation: "–û—Å–Ω–æ–≤–∞–Ω–∏–µ (–©—ë–ª–æ—á—å) –ø—Ä–∏ —Ä–∞—Å—Ç–≤–æ—Ä–µ–Ω–∏–∏ –¥–∞–µ—Ç –∏–æ–Ω—ã OH‚Åª. –ò–º–µ–Ω–Ω–æ –æ–Ω–∏ –æ–∫—Ä–∞—à–∏–≤–∞—é—Ç —Ñ–µ–Ω–æ–ª—Ñ—Ç–∞–ª–µ–∏–Ω –≤ –º–∞–ª–∏–Ω–æ–≤—ã–π."
            },
            {
                q: "–ö–∞–∫–∞—è –∫–∏—Å–ª–æ—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–≤–æ–µ–º –∂–µ–ª—É–¥–∫–µ?",
                a: ["–°–µ—Ä–Ω–∞—è (H‚ÇÇSO‚ÇÑ)", "–õ–∏–º–æ–Ω–Ω–∞—è", "–°–æ–ª—è–Ω–∞—è (HCl)"],
                correct: 2,
                explanation: "–°–æ–ª—è–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞ (HCl). –û–Ω–∞ —É–±–∏–≤–∞–µ—Ç –º–∏–∫—Ä–æ–±–æ–≤ –∏ –ø–æ–º–æ–≥–∞–µ—Ç –ø–µ—Ä–µ–≤–∞—Ä–∏–≤–∞—Ç—å –±–µ–ª–∫–∏."
            },
            {
                q: "–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –°–µ—Ä–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞ (H‚ÇÇSO‚ÇÑ)?",
                a: ["–í –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞—Ö", "–í –≥–∞–∑–∏—Ä–æ–≤–∫–µ", "–í –º—ã–ª–µ"],
                correct: 0,
                explanation: "–≠—Ç–æ —ç–ª–µ–∫—Ç—Ä–æ–ª–∏—Ç –≤ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–µ. –û–Ω–∞ –æ—á–µ–Ω—å –µ–¥–∫–∞—è –∏ –æ–ø–∞—Å–Ω–∞—è (¬´–•–ª–µ–± —Ö–∏–º–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏¬ª)."
            },
            // --- –†–ï–ê–ö–¶–ò–ò –ò –õ–û–ì–ò–ö–ê ---
            {
                q: "–ß—Ç–æ —Ç–∞–∫–æ–µ ¬´–¶–∞—Ä—Å–∫–∞—è –≤–æ–¥–∫–∞¬ª?",
                a: ["–°–º–µ—Å—å –∫–∏—Å–ª–æ—Ç, —Ä–∞—Å—Ç–≤–æ—Ä—è—é—â–∞—è –∑–æ–ª–æ—Ç–æ", "–õ—é–±–∏–º—ã–π –Ω–∞–ø–∏—Ç–æ–∫ –ú–µ–Ω–¥–µ–ª–µ–µ–≤–∞", "–ß–∏—Å—Ç—ã–π —Å–ø–∏—Ä—Ç"],
                correct: 0,
                explanation: "–≠—Ç–æ –∞–¥—Å–∫–∞—è —Å–º–µ—Å—å –ê–∑–æ—Ç–Ω–æ–π –∏ –°–æ–ª—è–Ω–æ–π –∫–∏—Å–ª–æ—Ç. –û–Ω–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –º–æ–∂–µ—Ç —Ä–∞—Å—Ç–≤–æ—Ä–∏—Ç—å –∑–æ–ª–æ—Ç–æ (—Ü–∞—Ä—è –º–µ—Ç–∞–ª–ª–æ–≤)."
            },
            {
                q: "–ï—Å–ª–∏ –ø–æ–ª–æ–∂–∏—Ç—å —Å—ã—Ä–æ–µ —è–π—Ü–æ –≤ —É–∫—Å—É—Å, —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç?",
                a: ["–û–Ω–æ —Å–≤–∞—Ä–∏—Ç—Å—è", "–°–∫–æ—Ä–ª—É–ø–∞ —Ä–∞—Å—Ç–≤–æ—Ä–∏—Ç—Å—è (—Å—Ç–∞–Ω–µ—Ç –º—è–≥–∫–∏–º)", "–í–∑–æ—Ä–≤–µ—Ç—Å—è"],
                correct: 1,
                explanation: "–°–∫–æ—Ä–ª—É–ø–∞ ‚Äî —ç—Ç–æ –∫–∞—Ä–±–æ–Ω–∞—Ç –∫–∞–ª—å—Ü–∏—è. –ö–∏—Å–ª–æ—Ç–∞ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç —Å –Ω–∏–º, –≤—ã–¥–µ–ª—è—è –≥–∞–∑ CO‚ÇÇ, –∏ —Å–∫–æ—Ä–ª—É–ø–∞ –∏—Å—á–µ–∑–∞–µ—Ç."
            },
            {
                q: "–†–µ–∞–∫—Ü–∏—è –ù–µ–π—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏–∏: NaOH + HCl ‚Üí ...",
                a: ["–í–∑—Ä—ã–≤", "–°–æ–ª—å (NaCl) + –í–æ–¥–∞", "–ù–æ–≤–∞—è –∫–∏—Å–ª–æ—Ç–∞"],
                correct: 1,
                explanation: "–ö–∏—Å–ª–æ—Ç–∞ –∏ –©—ë–ª–æ—á—å —É–±–∏–≤–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞. H + OH –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –í–æ–¥—É. –û—Å—Ç–∞–µ—Ç—Å—è —Å–æ–ª–µ–Ω–∞—è –≤–æ–¥–∞."
            },
            {
                q: "–í –∫–∞–∫–æ–π —Ü–≤–µ—Ç —Ñ–µ–Ω–æ–ª—Ñ—Ç–∞–ª–µ–∏–Ω –æ–∫—Ä–∞—Å–∏—Ç —Ä–∞—Å—Ç–≤–æ—Ä –©—ë–ª–æ—á–∏?",
                a: ["–°–∏–Ω–∏–π", "–ú–∞–ª–∏–Ω–æ–≤—ã–π", "–ë–µ—Å—Ü–≤–µ—Ç–Ω—ã–π"],
                correct: 1,
                explanation: "–ó–∞–ø–æ–º–Ω–∏: ¬´–§–µ–Ω–æ–ª—Ñ—Ç–∞–ª–µ–∏–Ω–æ–≤—ã–π ‚Äî –≤ —â–µ–ª–æ—á–∞—Ö –ú–ê–õ–ò–ù–û–í–´–ô¬ª."
            }
        ];

        let currentQ = 0;
        let score = 0;
        let timer;
        let timeLeft = 25;

        const els = {
            start: document.getElementById('start-screen'),
            game: document.getElementById('game-screen'),
            end: document.getElementById('end-screen'),
            qText: document.getElementById('question-text'),
            qCount: document.getElementById('question-count'),
            score: document.getElementById('score'),
            timer: document.getElementById('timer-bar'),
            modal: document.getElementById('explanation-modal'),
            expHeader: document.getElementById('exp-header'),
            expText: document.getElementById('exp-text'),
            btns: [document.getElementById('btn-0'), document.getElementById('btn-1'), document.getElementById('btn-2')],
            txts: [document.getElementById('ans-0'), document.getElementById('ans-1'), document.getElementById('ans-2')]
        };

        const audio = {
            correct: document.getElementById('sfx-correct'),
            wrong: document.getElementById('sfx-wrong'),
            end: document.getElementById('sfx-end')
        };

        function startGame() {
            els.start.classList.add('hidden-screen');
            els.game.classList.remove('hidden-screen');
            currentQ = 0;
            score = 0;
            loadQ();
        }

        function loadQ() {
            if (currentQ >= questions.length) return endGame();
            
            const q = questions[currentQ];
            els.qText.innerText = q.q;
            els.qCount.innerText = currentQ + 1;
            els.modal.classList.add('hidden');
            
            // Reset buttons
            els.btns.forEach((btn, i) => {
                els.txts[i].innerText = q.a[i];
                btn.className = "k-btn p-5 rounded-xl text-lg font-bold text-left flex items-center h-24 w-full relative overflow-hidden";
                btn.disabled = false;
                btn.onclick = () => check(i);
            });

            // Timer
            timeLeft = 25; 
            els.timer.style.transition = 'none';
            els.timer.style.width = '100%';
            els.timer.classList.remove('bg-red-500');
            els.timer.classList.add('bg-green-500');
            
            setTimeout(() => els.timer.style.transition = 'width 1s linear', 10);
            
            clearInterval(timer);
            timer = setInterval(() => {
                timeLeft--;
                els.timer.style.width = (timeLeft / 25 * 100) + '%';
                if(timeLeft < 8) {
                    els.timer.classList.remove('bg-green-500');
                    els.timer.classList.add('bg-red-500');
                }
                if(timeLeft <= 0) check(-1);
            }, 1000);
        }

        function check(idx) {
            clearInterval(timer);
            const q = questions[currentQ];
            const isCorrect = (idx === q.correct);
            
            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏
            els.btns.forEach(b => b.disabled = true);

            if (isCorrect) {
                score += 100 + (timeLeft * 5);
                els.score.innerText = score;
                els.btns[idx].classList.add('correct-anim');
                audio.correct.play();
                
                els.expHeader.innerText = "–í–ï–†–ù–û! üéâ";
                els.expHeader.className = "text-3xl font-black mb-4 text-green-400";
            } else {
                if(idx !== -1) els.btns[idx].classList.add('wrong-anim');
                els.btns[q.correct].classList.add('correct-anim'); // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
                audio.wrong.play();
                
                els.expHeader.innerText = "–û–®–ò–ë–ö–ê üíÄ";
                els.expHeader.className = "text-3xl font-black mb-4 text-red-500";
            }

            els.expText.innerText = q.explanation;
            
            setTimeout(() => {
                els.modal.classList.remove('hidden');
                els.modal.classList.add('flex');
            }, 600);
        }

        function nextQuestion() {
            currentQ++;
            loadQ();
        }

        function endGame() {
            els.game.classList.add('hidden-screen');
            els.end.classList.remove('hidden-screen');
            audio.end.play();
            document.getElementById('final-score').innerText = score;
            
            let txt = "";
            if(score > 2500) txt = "–¢–´ –ù–û–í–´–ô –õ–ê–í–£–ê–ó–¨–ï! ü•á";
            else if(score > 1500) txt = "–û–¢–õ–ò–ß–ù–´–ï –ó–ù–ê–ù–ò–Ø! üëç";
            else txt = "–ù–£–ñ–ù–û –ï–©–ï –ü–û–ß–ò–¢–ê–¢–¨... üß™";
            document.getElementById('feedback').innerText = txt;
            
            if(score > 1500) confetti({ particleCount: 200, spread: 120, origin: { y: 0.6 } });
        }
    </script>
</body>
</html>